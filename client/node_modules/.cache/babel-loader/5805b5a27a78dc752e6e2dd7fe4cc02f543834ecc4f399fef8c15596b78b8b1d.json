{"ast":null,"code":"import { logDOM } from \"@testing-library/react\";\nimport { toast } from \"react-toastify\";\nimport orderService from \"../services/orders.service\";\nconst handleIncrement = async (quantity, e, state, data, initialData) => {\n  ///filtrade quan form data\n  const filtradeQuantityFromData = quantity.filter(item => `${item.size}` === `${e.target.id}`);\n\n  ///getting data from db\n  const arrayOfSelecedItem = [];\n  const transformDataToArray = initialData.map((item, index) => {\n    if (item._id === data._id) {\n      arrayOfSelecedItem.push(initialData[index]);\n    }\n  });\n\n  ///quantity with database\n  const quantityFromSelectItem = arrayOfSelecedItem[0].quantity;\n  const filtradeQuantityFromDbToSelectedSize = quantityFromSelectItem.filter(item => `${item.size}` === `${e.target.id}`);\n  const initialValuesOfItem = filtradeQuantityFromDbToSelectedSize[0];\n  const getObjQuan = filtradeQuantityFromData[0];\n  state(getObjQuan);\n  if (getObjQuan.value < initialValuesOfItem.value) {\n    getObjQuan.value++;\n    if (filtradeQuantityFromData.value === initialValuesOfItem.value) {\n      toast.error(\"Вы выбрали последний размер данного товара\");\n    }\n  }\n  const newData = {\n    _id: data._id,\n    firm: data.category,\n    img: [...data.img],\n    price: data.price,\n    category: data.category,\n    name: data.name,\n    quantity: quantity\n  };\n  await orderService.createBascetPurchases(newData);\n};\nconst handleDecrement = async (quantity, e, state, data, initialData) => {\n  const filtradeQuanFormData = quantity.filter(item => `${item.size}` === `${e.target.id}`);\n  const arrayOfSelecedItem = [];\n  const transformDataToArray = initialData.map((item, index) => {\n    if (item._id === data._id) {\n      arrayOfSelecedItem.push(initialData[index]);\n    }\n  });\n  const quantityFromSelectItem = arrayOfSelecedItem[0].quantity;\n  const filtradeQuantityFromDbToSelectedSize = quantityFromSelectItem.filter(item => `${item.size}` === `${e.target.id}`);\n  const initialValuesOfItem = filtradeQuantityFromDbToSelectedSize[0];\n  const getObjQuan = filtradeQuanFormData[0];\n  state(getObjQuan);\n  if (initialValuesOfItem.value === getObjQuan.value || getObjQuan.value < initialValuesOfItem.value) {\n    if (getObjQuan.value > 0) {\n      getObjQuan.value -= 1;\n    }\n  }\n  const newData = {\n    _id: data._id,\n    firm: data.category,\n    img: [data.img[0], data.img[1]],\n    price: data.price,\n    category: data.category,\n    name: data.name,\n    quantity: quantity\n  };\n  await orderService.createBascetPurchases(newData);\n};\nconst servicesBascet = {\n  increment: handleIncrement,\n  decrement: handleDecrement\n};\nexport default servicesBascet;","map":{"version":3,"names":["logDOM","toast","orderService","handleIncrement","quantity","e","state","data","initialData","filtradeQuantityFromData","filter","item","size","target","id","arrayOfSelecedItem","transformDataToArray","map","index","_id","push","quantityFromSelectItem","filtradeQuantityFromDbToSelectedSize","initialValuesOfItem","getObjQuan","value","error","newData","firm","category","img","price","name","createBascetPurchases","handleDecrement","filtradeQuanFormData","servicesBascet","increment","decrement"],"sources":["C:/Users/Slim Shady/Desktop/project-x/client/src/utils/bascetServices.js"],"sourcesContent":["import { logDOM } from \"@testing-library/react\";\r\nimport { toast } from \"react-toastify\";\r\nimport orderService from \"../services/orders.service\";\r\nconst handleIncrement = async (quantity, e, state, data, initialData) => {\r\n  ///filtrade quan form data\r\n  const filtradeQuantityFromData = quantity.filter(\r\n    (item) => `${item.size}` === `${e.target.id}`\r\n  );\r\n\r\n  ///getting data from db\r\n  const arrayOfSelecedItem = [];\r\n  const transformDataToArray = initialData.map((item, index) => {\r\n    if (item._id === data._id) {\r\n      arrayOfSelecedItem.push(initialData[index]);\r\n    }\r\n  });\r\n\r\n  ///quantity with database\r\n  const quantityFromSelectItem = arrayOfSelecedItem[0].quantity;\r\n\r\n  const filtradeQuantityFromDbToSelectedSize = quantityFromSelectItem.filter(\r\n    (item) => `${item.size}` === `${e.target.id}`\r\n  );\r\n\r\n  const initialValuesOfItem = filtradeQuantityFromDbToSelectedSize[0];\r\n\r\n  const getObjQuan = filtradeQuantityFromData[0];\r\n  state(getObjQuan);\r\n  if (getObjQuan.value < initialValuesOfItem.value) {\r\n    getObjQuan.value++;\r\n    if (filtradeQuantityFromData.value === initialValuesOfItem.value) {\r\n      toast.error(\"Вы выбрали последний размер данного товара\");\r\n    }\r\n  }\r\n\r\n  const newData = {\r\n    _id: data._id,\r\n    firm: data.category,\r\n    img: [...data.img],\r\n    price: data.price,\r\n    category: data.category,\r\n    name: data.name,\r\n    quantity: quantity,\r\n  };\r\n\r\n  await orderService.createBascetPurchases(newData);\r\n};\r\n\r\nconst handleDecrement = async (quantity, e, state, data, initialData) => {\r\n  const filtradeQuanFormData = quantity.filter(\r\n    (item) => `${item.size}` === `${e.target.id}`\r\n  );\r\n\r\n  const arrayOfSelecedItem = [];\r\n  const transformDataToArray = initialData.map((item, index) => {\r\n    if (item._id === data._id) {\r\n      arrayOfSelecedItem.push(initialData[index]);\r\n    }\r\n  });\r\n\r\n  const quantityFromSelectItem = arrayOfSelecedItem[0].quantity;\r\n\r\n  const filtradeQuantityFromDbToSelectedSize = quantityFromSelectItem.filter(\r\n    (item) => `${item.size}` === `${e.target.id}`\r\n  );\r\n  const initialValuesOfItem = filtradeQuantityFromDbToSelectedSize[0];\r\n  const getObjQuan = filtradeQuanFormData[0];\r\n  state(getObjQuan);\r\n  if (\r\n    initialValuesOfItem.value === getObjQuan.value ||\r\n    getObjQuan.value < initialValuesOfItem.value\r\n  ) {\r\n    if (getObjQuan.value > 0) {\r\n      getObjQuan.value -= 1;\r\n    }\r\n  }\r\n\r\n  const newData = {\r\n    _id: data._id,\r\n    firm: data.category,\r\n    img: [data.img[0], data.img[1]],\r\n    price: data.price,\r\n    category: data.category,\r\n    name: data.name,\r\n    quantity: quantity,\r\n  };\r\n  await orderService.createBascetPurchases(newData);\r\n};\r\n\r\nconst servicesBascet = {\r\n  increment: handleIncrement,\r\n  decrement: handleDecrement,\r\n};\r\nexport default servicesBascet;\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}