{"ast":null,"code":"import orderService from \"../services/orders.service\";\nconst decrementPurchased = async (data, quan) => {\n  const initData = await orderService.getInitiProduct().then(res => {\n    const toFormat = Object.keys(res).map(item => res[item]);\n    const filtradeDataByBascet = [];\n    if (data) {\n      const filtradeDataByBascetData = toFormat.forEach(item => {\n        if (item._id === data._id) {\n          return filtradeDataByBascet.push(item);\n        }\n      });\n    }\n    const quantityFromDb = filtradeDataByBascet[0].quantity;\n    const decrementQuan = quantityFromDb.map((item, index) => {\n      if (quan[index].value > 0) {\n        return {\n          ...item,\n          value: item.value -= quan[index].value\n        };\n      }\n      return item;\n    });\n    const newData = {\n      _id: data._id,\n      category: data.category,\n      firm: data.firm,\n      img: [...data.img],\n      name: data.name,\n      price: data.price,\n      quantity: decrementQuan\n    };\n    orderService.changesDataProduct(newData);\n  });\n};\nexport default decrementPurchased;","map":{"version":3,"names":["orderService","decrementPurchased","data","quan","initData","getInitiProduct","then","res","toFormat","Object","keys","map","item","filtradeDataByBascet","filtradeDataByBascetData","forEach","_id","push","quantityFromDb","quantity","decrementQuan","index","value","newData","category","firm","img","name","price","changesDataProduct"],"sources":["C:/Users/Slim Shady/Desktop/project-x/client/src/functions/decrementPurchased.js"],"sourcesContent":["import orderService from \"../services/orders.service\";\r\nconst decrementPurchased = async (data, quan) => {\r\n  const initData = await orderService.getInitiProduct().then((res) => {\r\n    const toFormat = Object.keys(res).map((item) => res[item]);\r\n    const filtradeDataByBascet = [];\r\n    if (data) {\r\n      const filtradeDataByBascetData = toFormat.forEach((item) => {\r\n        if (item._id === data._id) {\r\n          return filtradeDataByBascet.push(item);\r\n        }\r\n      });\r\n    }\r\n\r\n    const quantityFromDb = filtradeDataByBascet[0].quantity;\r\n    const decrementQuan = quantityFromDb.map((item, index) => {\r\n      if (quan[index].value > 0) {\r\n        return {\r\n          ...item,\r\n          value: (item.value -= quan[index].value),\r\n        };\r\n      }\r\n      return item;\r\n    });\r\n\r\n    const newData = {\r\n      _id: data._id,\r\n      category: data.category,\r\n      firm: data.firm,\r\n      img: [...data.img],\r\n      name: data.name,\r\n      price: data.price,\r\n      quantity: decrementQuan,\r\n    };\r\n\r\n    orderService.changesDataProduct(newData);\r\n  });\r\n};\r\n\r\nexport default decrementPurchased;\r\n"],"mappings":"AAAA,OAAOA,YAAY,MAAM,4BAA4B;AACrD,MAAMC,kBAAkB,GAAG,OAAOC,IAAI,EAAEC,IAAI,KAAK;EAC/C,MAAMC,QAAQ,GAAG,MAAMJ,YAAY,CAACK,eAAe,EAAE,CAACC,IAAI,CAAEC,GAAG,IAAK;IAClE,MAAMC,QAAQ,GAAGC,MAAM,CAACC,IAAI,CAACH,GAAG,CAAC,CAACI,GAAG,CAAEC,IAAI,IAAKL,GAAG,CAACK,IAAI,CAAC,CAAC;IAC1D,MAAMC,oBAAoB,GAAG,EAAE;IAC/B,IAAIX,IAAI,EAAE;MACR,MAAMY,wBAAwB,GAAGN,QAAQ,CAACO,OAAO,CAAEH,IAAI,IAAK;QAC1D,IAAIA,IAAI,CAACI,GAAG,KAAKd,IAAI,CAACc,GAAG,EAAE;UACzB,OAAOH,oBAAoB,CAACI,IAAI,CAACL,IAAI,CAAC;QACxC;MACF,CAAC,CAAC;IACJ;IAEA,MAAMM,cAAc,GAAGL,oBAAoB,CAAC,CAAC,CAAC,CAACM,QAAQ;IACvD,MAAMC,aAAa,GAAGF,cAAc,CAACP,GAAG,CAAC,CAACC,IAAI,EAAES,KAAK,KAAK;MACxD,IAAIlB,IAAI,CAACkB,KAAK,CAAC,CAACC,KAAK,GAAG,CAAC,EAAE;QACzB,OAAO;UACL,GAAGV,IAAI;UACPU,KAAK,EAAGV,IAAI,CAACU,KAAK,IAAInB,IAAI,CAACkB,KAAK,CAAC,CAACC;QACpC,CAAC;MACH;MACA,OAAOV,IAAI;IACb,CAAC,CAAC;IAEF,MAAMW,OAAO,GAAG;MACdP,GAAG,EAAEd,IAAI,CAACc,GAAG;MACbQ,QAAQ,EAAEtB,IAAI,CAACsB,QAAQ;MACvBC,IAAI,EAAEvB,IAAI,CAACuB,IAAI;MACfC,GAAG,EAAE,CAAC,GAAGxB,IAAI,CAACwB,GAAG,CAAC;MAClBC,IAAI,EAAEzB,IAAI,CAACyB,IAAI;MACfC,KAAK,EAAE1B,IAAI,CAAC0B,KAAK;MACjBT,QAAQ,EAAEC;IACZ,CAAC;IAEDpB,YAAY,CAAC6B,kBAAkB,CAACN,OAAO,CAAC;EAC1C,CAAC,CAAC;AACJ,CAAC;AAED,eAAetB,kBAAkB"},"metadata":{},"sourceType":"module","externalDependencies":[]}